<?xml version="1.0" encoding="cp1251"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <!--  xmlns:p="http://primefaces.org/ui" --> 
    <h:head> </h:head>
 	<!--  http://viralpatel.net/blogs/javaserver-faces-jsf-validation-tutorial-error-handling-jsf-validator/  -->
    <h:body>
     <h:form>
      
      	<h1>#{messagesSource.getLocaleValue("registration.registration", null)}</h1>
      
      	<h:panelGrid columns="3"> 	
      	  <h:outputText value="#{messagesSource.getLocaleValue(&quot;registration.login&quot;, null)}" />
      	  <h:inputText 
      	  	id="login" value="#{userBean.name}" size="20" required="true"
      	  	requiredMessage="#{messagesSource.getLocaleValue(&quot;registration.enter.login&quot;, null)}"
      	  	validator="#{userBean.checkLogin}" > 
      	  </h:inputText>
      	  
          <h:message for="login" style="color:red" />
          
      	  <h:outputText value="#{messagesSource.getLocaleValue(&quot;registration.password&quot;, null)}" />
      	  <h:inputSecret 
      	  	id="password" value="#{userBean.password}" size="20" required="true" 
      	  	requiredMessage="#{messagesSource.getLocaleValue(&quot;registration.enter.password&quot;, null)}" 
      	  	validator="#{userBean.setPassword}" 
      	  	validatorMessage="#{messagesSource.getLocaleValue(&quot;registration.lenght.password&quot;, null)}" > 
      	  	<f:validateLength minimum="5" maximum="20"/> 
      	  </h:inputSecret>
      	  
          <h:message for="password" style="color:red" />   
          
      	  <h:outputText value="#{messagesSource.getLocaleValue(&quot;registration.password.repeat&quot;, null)}" />
      	  <h:inputSecret 
      	  	id="secondPassword" value="#{userBean.secondPassword}" size="20" required="true" 
      	  	requiredMessage="#{messagesSource.getLocaleValue(&quot;registration.repeat.password&quot;, null)}"
      	  	validator="#{userBean.checkPassword}" >  
      	  </h:inputSecret>
      	  
          <h:message for="secondPassword" style="color:red"/>     
          
          <h:outputText value="Email" />
      	  <h:inputText 
      	  	id="email" value="#{userBean.email}" size="20" required="true" 
      	  	requiredMessage="#{messagesSource.getLocaleValue(&quot;registration.enter.email&quot;, null)}" >
      	  	<f:validator validatorId="org.travelplan.validator.EmailValidator" />
      	  </h:inputText>
      	  
          <h:message for="email" style="color:red" />              
         </h:panelGrid>
         
		  <h:commandButton id="addUser" value="Îê" action="#{userBean.addUser}"  
		    style="width:100px" />
		    
          <h:commandButton id="cancelAddUser" immediate="true" value="Cancel" 
            action="login?faces-redirect=true" style="width:100px"/>         
	
     </h:form>
    </h:body>
</html>         