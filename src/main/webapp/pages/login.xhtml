<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
     <h:head>
		<style>
		.errorblock {
			color: #ff0000;
			background-color: #ffEEEE;
			border: 3px solid #ff0000;
			padding: 8px;
			margin: 16px;
			text-align:center;
		}
		</style>          
     </h:head>
     
     <h:body>
     <h:form id="loginForm" prependId="false">
     <h:link outcome="registration" value="Регистрация"/>
     
     <h1 align="center"> Вход в систему </h1>    
     
	 <h:panelGrid columns="1" style="margin-left:auto; margin-right:auto;">				
				<h:panelGrid columns="2" style="margin-left:auto; margin-right:auto;">
					<h:outputText value="Пользователь" />
					<h:inputText id="j_username" />

					<h:outputText value="Пароль" />
					<h:inputSecret id="j_password" />
				</h:panelGrid>

				<h:panelGrid columns="1" style="margin-left:auto; margin-right:auto;">
				<h:commandButton type="submit" value="Вход" action="#{loginBean.doLogin}"/>
				</h:panelGrid>
	</h:panelGrid>
	
     <c:if test="${not empty (param.error)}">
		<div class="errorblock">
			Your login attempt was not successful, try again.<br /> 
			Caused : ${sessionScope["SPRING_SECURITY_LAST_EXCEPTION"].message}
		</div>
	 </c:if>
	 	
	</h:form>
	</h:body>
</html>